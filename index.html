<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Rock paper scissors</title>
</head>
<body>
    <div>
        <button class="rock game-button" value="rock">rock</button>
        <button class="paper game-button" value="paper">paper</button>
        <button class="scissors game-button" value="scissors">scissors</button>
    </div>

    <div class="round-results"></div>
    <div class="round-score"></div>
    <div class="final-score"></div>

    <button class="restart">Restart the game</button>

    <script>

        let divResults = document.querySelector(".round-results");
        let buttons = document.querySelectorAll(".game-button");
        let divRoundScore = document.querySelector(".round-score");
        let divFinalScore = document.querySelector(".final-score");
        let restartButton = document.querySelector(".restart");


        let playerScore = 0;
        let computerScore = 0;
        let round = 0;
        let computerSelection;
        let playerSelection;


        buttons.forEach(button => {
        button.addEventListener("click", () => {
        computerSelection = getComputerChoice();
        playerSelection = button.value;
        playRound();
        })
        });


        function getComputerChoice() {
            let computerOptions = ["rock", "paper", "scissors"];
            let computerChoice = computerOptions[Math.floor(Math.random() * computerOptions.length)];
            console.log(computerChoice);
            return computerChoice;
        };


        function playRound() {
            if (playerSelection == "rock" && computerSelection == "scissors") {
                playerScore++;
                round++;
                divRoundScore.textContent = `Your Score: ${playerScore} | Enemy Score: ${computerScore}`;
                divResults.textContent = "You won! Rock beats scissors.";
            }
            else if (playerSelection == "paper" && computerSelection == "rock") {
                playerScore++;
                round++;
                divRoundScore.textContent = `Your Score: ${playerScore} | Enemy Score: ${computerScore}`;
                divResults.textContent = "You won! Paper beats rock.";
            }
            else if (playerSelection == "scissors" && computerSelection == "paper") {
                playerScore++;
                round++;
                divRoundScore.textContent = `Your Score: ${playerScore} | Enemy Score: ${computerScore}`;
                divResults.textContent = "You won! Scissors beats paper.";
            }
            else if (playerSelection == "rock" && computerSelection == "paper") {
                computerScore++;
                round++;
                divRoundScore.textContent = `Your Score: ${playerScore} | Enemy Score: ${computerScore}`;
                divResults.textContent = "You lost! Paper beats rock.";
            }
            else if (playerSelection == "paper" && computerSelection == "scissors") {
                computerScore++;
                round++;
                divRoundScore.textContent = `Your Score: ${playerScore} | Enemy Score: ${computerScore}`;
                divResults.textContent = "You lost! Scissors beats paper.";
            }
            else if (playerSelection == "scissors" && computerSelection == "rock") {
                computerScore++;
                round++;
                divRoundScore.textContent = `Your Score: ${playerScore} | Enemy Score: ${computerScore}`;
                divResults.textContent = "You lost! Rock beats scissors.";
            } 
            else if ((playerSelection == "scissors" && computerSelection == "scissors") || (playerSelection == "paper" && computerSelection == "paper") || (playerSelection == "rock" && computerSelection == "rock")) {
                divResults.textContent = "It's a tie!";
                round++;
                divRoundScore.textContent = `Your Score: ${playerScore} | Enemy Score: ${computerScore}`;
            }
            checkScore();
        };

        function checkScore() {
            if (playerScore === 5) {
            divFinalScore.textContent = 'You win the game!';
            restartGame();
            } else if (computerScore === 5) {
            divFinalScore.textContent = 'You lose the game!';
            restartGame();
            }
            };

            function restartGame() {
                buttons.forEach((element) => {
                element.disabled = true;
            });

            restartButton.style.visibility = 'visible';
  
            restartButton.addEventListener('click', () => {
             window.location.reload();
            });
            };
        

    

        
    </script>
</body>
</html>